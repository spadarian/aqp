---
layout: doc
title: "Unroll Genetic Horizons â€” unroll"
aqp_version: 1.10-1
date: 2017-03-20 17:34:41 
scripts: [jquery.sticky-kit.min.js, pkgdown.js]
---

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Unroll Genetic Horizons</h1>
    </div>

    
    <p>Generate a descretized vector of genetic horizons along a user-defined pattern.</p>
    

    <pre><span class="fu">unroll</span>(<span class="no">top</span>, <span class="no">bottom</span>, <span class="no">prop</span>, <span class="no">max_depth</span>, <span class="kw">bottom_padding_value</span> <span class="kw">=</span> <span class="fl">NA</span>, <span class="kw">strict</span><span class="kw">=</span><span class="fl">FALSE</span>)</pre>
    
    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a> Arguments</h2>
    <dl class="dl-horizontal">
      <dt>top</dt>
      <dd>vector of upper horizon boundaries, must be an integer</dd>
      <dt>bottom</dt>
      <dd>vector of lower horizon boundaries, must be an integer</dd>
      <dt>prop</dt>
      <dd>vector of some property to be "unrolled" over a regular sequence</dd>
      <dt>max_depth</dt>
      <dd>maximum depth to which missing data is padded with NA</dd>
      <dt>bottom_padding_value</dt>
      <dd>value to use when padding missing data</dd>
      <dt>strict</dt>
      <dd>should horizons be strictly checked for self-consistency? defaults to FALSE</dd>
    </dl>
    
    <h2 class="hasAnchor" id="details"><a class="anchor" href="#details"></a>Details</h2>

    <p>This function is used internally by several higher-level components of the <code>aqp</code> package. Basic error checking is performed to make sure that bottom and top horizon boundaries make sense. Note that the horizons should be sorted according to depth before using this function. The <code>max_depth</code> argument is used to specifiy the maximum depth of profiles within a collection, so that data from any profile shallower than this depth is padded with NA.</p>
    
    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p>a vector of "unrolled" property values</p>
    
    <h2 class="hasAnchor" id="references"><a class="anchor" href="#references"></a>References</h2>

    <p>http://casoilresource.lawr.ucdavis.edu/</p>
    

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><span class="fu">data</span>(<span class="no">sp1</span>)

<span class="co"># subset a single soil profile:</span>
<span class="no">sp1.1</span> <span class="kw">&lt;-</span> <span class="fu">subset</span>(<span class="no">sp1</span>, <span class="kw">subset</span><span class="kw">=</span><span class="no">id</span> <span class="kw">==</span> <span class="st">'P001'</span>)

<span class="co"># demonstrate how this function works</span>
<span class="no">x</span> <span class="kw">&lt;-</span> <span class="fu">with</span>(<span class="no">sp1.1</span>, <span class="fu">unroll</span>(<span class="no">top</span>, <span class="no">bottom</span>, <span class="no">prop</span>, <span class="kw">max_depth</span><span class="kw">=</span><span class="fl">50</span>))
<span class="fu"><a href="SoilProfileCollection-plotting-methods.html">plot</a></span>(<span class="no">x</span>, <span class="fl">1</span>:<span class="fu">length</span>(<span class="no">x</span>), <span class="kw">ylim</span><span class="kw">=</span><span class="fu">c</span>(<span class="fl">90</span>,<span class="fl">0</span>), <span class="kw">type</span><span class="kw">=</span><span class="st">'b'</span>, <span class="kw">cex</span><span class="kw">=</span><span class="fl">0.5</span>)</pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
    <h2>Contents</h2>
    <ul class="nav nav-pills nav-stacked">
      <li><a href="#arguments">Arguments</a></li>
      
      <li><a href="#details">Details</a></li>

      <li><a href="#value">Value</a></li>

      <li><a href="#references">References</a></li>
      
      <li><a href="#examples">Examples</a></li>
    </ul>

    <h2>Author</h2>
    Dylan E. Beaudette
  </div>
</div>

      