---
layout: doc
title: "
 â€” SoilProfileCollection-plotting-methods"
aqp_version: 1.10-1
date: 2017-03-20 17:34:41 
scripts: [jquery.sticky-kit.min.js, pkgdown.js]
---

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>
</h1>
    </div>

    
    <p>Generate a simple diagram of a soil profile, with annotated horizon names.</p>
    

    <pre>plotSPC(x, color='soil_color', width=0.2, name=NULL, label=idname(x),
alt.label=NULL, alt.label.col='black', cex.names=0.5, 
cex.depth.axis=cex.names, cex.id=cex.names+(0.2*cex.names), 
print.id=TRUE, id.style='auto', plot.order=1:length(x), add=FALSE, 
scaling.factor=1, y.offset=0, x.idx.offset=0, n=length(x),
max.depth=max(x), n.depth.ticks=5, shrink=FALSE, 
shrink.cutoff=3, abbr=FALSE, abbr.cutoff=5, divide.hz=TRUE, 
hz.distinctness.offset=NULL, hz.distinctness.offset.col='black', 
hz.distinctness.offset.lty=2, axis.line.offset=-2.5, 
plot.depth.axis=TRUE, density=NULL, col.label=color, 
col.palette = rev(brewer.pal(10, 'Spectral')), col.legend.cex=1,
lwd=1, lty=1, 
default.color=grey(0.95), &#8230;)</pre>
    
    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a> Arguments</h2>
    <dl class="dl-horizontal">
      <dt>x</dt>
      <dd>a SoilProfileCollection object</dd>
      <dt>color</dt>
      <dd>the name of the column containing R-compatible color descriptions, or a column containing numeric or categorical data; see details</dd>
      <dt>width</dt>
      <dd>scaling of profile widths</dd>
      <dt>name</dt>
      <dd>the name of the (horizon-level) attribute containing horizon designation labels</dd>
      <dt>label</dt>
      <dd>the name of the (site-level) attribute used to identify profiles in the plot</dd>
      <dt>alt.label</dt>
      <dd>the name of a (site-level) attribute used for seconary annotation</dd>
      <dt>alt.label.col</dt>
      <dd>color used when printing secondary annotation</dd>
      <dt>cex.names</dt>
      <dd>character scaling applied to horizon names</dd>
      <dt>cex.depth.axis</dt>
      <dd>character scaling applied to depth scale</dd>
      <dt>cex.id</dt>
      <dd>character scaling applied to profile id</dd>
      <dt>print.id</dt>
      <dd>should the profile id be printed above each profile? (TRUE)</dd>
      <dt>id.style</dt>
      <dd>profile ID printing style: 'auto' (default) = simple heuristic used to select from: 'top' = centered above each profile, 'side' = 'along the top-left edge of profiles'</dd>
      <dt>plot.order</dt>
      <dd>a vector describing the order in which individual SoilProfile objects from the parent should be plotted</dd>
      <dt>add</dt>
      <dd>add to an existing figure</dd>
      <dt>scaling.factor</dt>
      <dd>vertical scaling of the profile heights</dd>
      <dt>y.offset</dt>
      <dd>vertical offset for top of profiles</dd>
      <dt>x.idx.offset</dt>
      <dd>integer specifying horizontal offset from 0</dd>
      <dt>n</dt>
      <dd>integer describing amount of space along x-axis to allocate, defaults to length(x)</dd>
      <dt>max.depth</dt>
      <dd>suggested lower depth boundary of plot</dd>
      <dt>n.depth.ticks</dt>
      <dd>suggested number of ticks in depth scale</dd>
      <dt>shrink</dt>
      <dd>should long horizon names be shrunk by 80% ?</dd>
      <dt>shrink.cutoff</dt>
      <dd>character length defining long horizon names</dd>
      <dt>abbr</dt>
      <dd>should the profile ID be abbreviated?</dd>
      <dt>abbr.cutoff</dt>
      <dd>suggested minimum length for abbreviated IDs</dd>
      <dt>divide.hz</dt>
      <dd>should horizons be divided with a thin black line? (default is TRUE)</dd>
      <dt>hz.distinctness.offset</dt>
      <dd>column name containing vertical offsets used to depict horizon boundary distinctness (same units as profiles)</dd>
      <dt>hz.distinctness.offset.col</dt>
      <dd>color used to encode horizon distinctness (default is 'black')</dd>
      <dt>hz.distinctness.offset.lty</dt>
      <dd>line style used to encode horizon distinctness (default is 2)</dd>
      <dt>axis.line.offset</dt>
      <dd>horizonatal offset applied to depth axis (default is -2.5)</dd>
      <dt>plot.depth.axis</dt>
      <dd>plot depth axis? (default is TRUE)</dd>
      <dt>density</dt>
      <dd>fill density used for horizon color shading, either a single integer or a column name containing integer values (default is NULL, no shading)</dd>
      <dt>col.label</dt>
      <dd>text printed above the color-coded legend</dd>
      <dt>col.palette</dt>
      <dd>color palette used to plot numeric data</dd>
      <dt>col.legend.cex</dt>
      <dd>scaling of color legend</dd>
      <dt>lwd</dt>
      <dd>single numeric value: line width multiplier</dd>
      <dt>lty</dt>
      <dd>single integert: line style</dd>
      <dt>default.color</dt>
      <dd>default horizon fill color used when `color` attribute is NA</dd>
      <dt>&#8230;</dt>
      <dd>other arguments passed into lower level plotting functions</dd>
    </dl>
    
    <h2 class="hasAnchor" id="methods"><a class="anchor" href="#methods"></a>Methods</h2>

    <p></p><dl class="dl-horizontal">
    <p></p><dt><code>signature(x = "SoilProfileCollection")</code></dt><dd>
    <p></p></dd>
</dl>
    
    <h2 class="hasAnchor" id="details"><a class="anchor" href="#details"></a>Details</h2>

    <p>Depth limits (<code>max.depth</code>) and number of depth ticks (<code>n.depth.ticks</code>) are *suggestions* to the <code>pretty</code> function. You may have to tinker with both parameters to get what you want.</p>
    <p>The 'side' <code>id.style</code> is useful when plotting a large collection of profiles, and/or, when profile IDs are long.</p>
    <p>If the column containing horizon designations is not specified (the <code>name</code> argument), a column (presumed to contain horizon designation labels) is guessed based on regular expression matching of the pattern 'name'-- this usually works, but it is best to manual specify the name of the column containing horizon designations.</p>
    <p>The <code>color</code> argument can either name a column containing R-compatible colors, possibly created via <code><a href="munsell2rgb.html">munsell2rgb</a></code>, or column containing either numeric or categorical (either factor or character) values. In the second case, values are converted into colors and displayed along with a simple legend above the plot. Note that this functionality makes several assumptions about plot geometry and is most useful in an interactive setting.</p>
    <p>The <code>x.idx.offset</code> argument can be used to shift a collection of pedons from left to right in the figure. This can be useful when plotting several different <code>SoilProfileCollection</code> objects within the same figure. Space must be pre-allocated in the first plotting call, with an offset specified in the second call. See examples below.</p>
    
    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p>A new plot of soil profiles is generated, or optionally added to an existing plot.</p>
    
    <h2 class="hasAnchor" id="references"><a class="anchor" href="#references"></a>References</h2>

    <p>http://casoilresource.lawr.ucdavis.edu/</p>
    
    <h2 class="hasAnchor" id="see-also"><a class="anchor" href="#see-also"></a>See also</h2>

    <p><code><a href="SoilProfileCollection-class.html">SoilProfileCollection-class</a>, pretty, <a href="hzDistinctnessCodeToOffset.html">hzDistinctnessCodeToOffset</a>, <a href="addBracket.html">addBracket</a>, <a href="profileGroupLabels.html">profileGroupLabels</a></code></p>
    

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><span class="fu">data</span>(<span class="no">sp1</span>)

<span class="co"># usually best to adjust margins</span>
<span class="fu">par</span>(<span class="kw">mar</span><span class="kw">=</span><span class="fu">c</span>(<span class="fl">0</span>,<span class="fl">0</span>,<span class="fl">3</span>,<span class="fl">0</span>))

<span class="co"># add color vector</span>
<span class="no">sp1</span>$<span class="no">soil_color</span> <span class="kw">&lt;-</span> <span class="fu">with</span>(<span class="no">sp1</span>, <span class="fu"><a href="munsell2rgb.html">munsell2rgb</a></span>(<span class="no">hue</span>, <span class="no">value</span>, <span class="no">chroma</span>))

<span class="co"># promote to SoilProfileCollection</span>
<span class="fu">depths</span>(<span class="no">sp1</span>) <span class="kw">&lt;-</span> <span class="no">id</span> ~ <span class="no">top</span> + <span class="no">bottom</span>

<span class="co"># plot profiles</span>
<span class="fu">plot</span>(<span class="no">sp1</span>, <span class="kw">id.style</span><span class="kw">=</span><span class="st">'side'</span>)

<span class="co"># title, note line argument:</span>
<span class="fu">title</span>(<span class="st">'Sample Data 1'</span>, <span class="kw">line</span><span class="kw">=</span><span class="fl">1</span>, <span class="kw">cex.main</span><span class="kw">=</span><span class="fl">0.75</span>)

<span class="co"># plot profiles without horizon-line divisions</span>
<span class="fu">plot</span>(<span class="no">sp1</span>, <span class="kw">divide.hz</span><span class="kw">=</span><span class="fl">FALSE</span>)

<span class="co"># add dashed lines illustrating horizon boundary distinctness</span>
<span class="no">sp1</span>$<span class="no">hzD</span> <span class="kw">&lt;-</span> <span class="fu"><a href="hzDistinctnessCodeToOffset.html">hzDistinctnessCodeToOffset</a></span>(<span class="no">sp1</span>$<span class="no">bound_distinct</span>)
<span class="fu">plot</span>(<span class="no">sp1</span>, <span class="kw">hz.distinctness.offset</span><span class="kw">=</span><span class="st">'hzD'</span>)

<span class="co"># plot horizon color according to some property</span>
<span class="fu">data</span>(<span class="no">sp4</span>)
<span class="fu">depths</span>(<span class="no">sp4</span>) <span class="kw">&lt;-</span> <span class="no">id</span> ~ <span class="no">top</span> + <span class="no">bottom</span>
<span class="fu">plot</span>(<span class="no">sp4</span>, <span class="kw">color</span><span class="kw">=</span><span class="st">'clay'</span>)

<span class="co"># another example</span>
<span class="fu">data</span>(<span class="no">sp2</span>)
<span class="fu">depths</span>(<span class="no">sp2</span>) <span class="kw">&lt;-</span> <span class="no">id</span> ~ <span class="no">top</span> + <span class="no">bottom</span>
<span class="fu"><a href="SPC-utils.html">site</a></span>(<span class="no">sp2</span>) <span class="kw">&lt;-</span> ~ <span class="no">surface</span>

<span class="co"># label with site-level attribute: `surface`</span>
<span class="fu">plot</span>(<span class="no">sp2</span>, <span class="kw">label</span><span class="kw">=</span><span class="st">'surface'</span>, <span class="kw">plot.order</span><span class="kw">=</span><span class="fu">order</span>(<span class="no">sp2</span>$<span class="no">surface</span>))

<span class="co"># example using a categorical attribute</span>
<span class="fu">plot</span>(<span class="no">sp2</span>, <span class="kw">color</span> <span class="kw">=</span> <span class="st">"plasticity"</span>)

<span class="co"># plot two SPC objects in the same figure</span>
<span class="fu">par</span>(<span class="kw">mar</span><span class="kw">=</span><span class="fu">c</span>(<span class="fl">1</span>,<span class="fl">1</span>,<span class="fl">1</span>,<span class="fl">1</span>))
<span class="co"># plot the first SPC object and </span>
<span class="co"># allocate space for the second SPC object</span>
<span class="fu">plot</span>(<span class="no">sp1</span>, <span class="kw">n</span><span class="kw">=</span><span class="fu">length</span>(<span class="no">sp1</span>) + <span class="fu">length</span>(<span class="no">sp2</span>))
<span class="co"># plot the second SPC, starting from the first empty space</span>
<span class="fu">plot</span>(<span class="no">sp2</span>, <span class="kw">x.idx.offset</span><span class="kw">=</span><span class="fu">length</span>(<span class="no">sp1</span>), <span class="kw">add</span><span class="kw">=</span><span class="fl">TRUE</span>)</pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
    <h2>Contents</h2>
    <ul class="nav nav-pills nav-stacked">
      <li><a href="#arguments">Arguments</a></li>
      
      <li><a href="#methods">Methods</a></li>

      <li><a href="#details">Details</a></li>

      <li><a href="#value">Value</a></li>

      <li><a href="#references">References</a></li>

      <li><a href="#see-also">See also</a></li>
      
      <li><a href="#examples">Examples</a></li>
    </ul>

    <h2>Author</h2>
    Dylan E. Beaudette
  </div>
</div>

      